---
import SiteLayout from "../layouts/SiteLayout.astro";
import { getProjects } from "../lib/content";

const projects = await getProjects();
---

<SiteLayout title="Projects | Quantized Vision">
  <section class="space-y-4">
    <h1 class="text-3xl font-bold text-white">Projects</h1>
    <p class="max-w-3xl text-zinc-300">Sanity-backed project case studies and experiments.</p>
    {
      projects.length === 0 ? (
        <div class="rounded-xl border border-zinc-800 bg-zinc-900 p-5 text-zinc-300">
          No projects published yet. Add `project` documents in Sanity Studio.
        </div>
      ) : (
        <div class="grid gap-4 md:grid-cols-2">
          {projects.map((project) => (
            <article class="space-y-2 rounded-xl border border-zinc-800 bg-zinc-900 p-5">
              <h2 class="text-xl font-semibold text-white">{project.title}</h2>
              <p class="text-sm text-zinc-400">{project.date}</p>
              <p class="text-zinc-300">{project.summary}</p>
              <p class="text-xs text-zinc-400">Stack: {project.stack.join(", ")}</p>
              {project.externalUrl ? (
                <a href={project.externalUrl} class="inline-block text-sm text-teal-300 hover:underline">
                  View project
                </a>
              ) : null}
            </article>
          ))}
        </div>
      )
    }
  </section>
</SiteLayout>
